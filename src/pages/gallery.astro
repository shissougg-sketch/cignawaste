---
import BaseLayout from '../layouts/BaseLayout.astro';
import Header from '../components/Header.astro';
import Footer from '../components/Footer.astro';
import MobileStickyButtons from '../components/MobileStickyButtons.astro';
import { PHONE, PHONE_LINK, TEXT_LINK } from '../constants/contact';
import '../styles/global.css';

const phone = PHONE;
const phoneLink = PHONE_LINK;
const textLink = TEXT_LINK;

// Real gallery items
const galleryItems = [
  { id: 1, src: "/images/gallery/gallery-1.jpg", category: "jobs", alt: "Job site 1" },
  { id: 2, src: "/images/gallery/gallery-2.jpg", category: "jobs", alt: "Job site 2" },
  { id: 3, src: "/images/gallery/gallery-3.jpg", category: "jobs", alt: "Job site 3" },
  { id: 4, src: "/images/gallery/gallery-4.jpg", category: "jobs", alt: "Job site 4" },
  { id: 5, src: "/images/gallery/gallery-5.jpg", category: "jobs", alt: "Job site 5" },
  { id: 6, src: "/images/gallery/gallery-6.jpg", category: "jobs", alt: "Job site 6" },
  { id: 7, src: "/images/gallery/gallery-7.jpg", category: "jobs", alt: "Job site 7" },
  { id: 8, src: "/images/gallery/gallery-8.jpg", category: "jobs", alt: "Job site 8" },
  { id: 9, src: "/images/gallery/gallery-9.jpg", category: "jobs", alt: "Job site 9" },
  { id: 10, src: "/images/gallery/gallery-10.jpg", category: "jobs", alt: "Job site 10" },
  { id: 11, src: "/images/gallery/gallery-11.jpg", category: "jobs", alt: "Job site 11" },
  { id: 12, src: "/images/gallery/demo-1.jpg", category: "demo", alt: "Demolition work 1" },
  { id: 13, src: "/images/gallery/demo-2.jpg", category: "demo", alt: "Demolition work 2" },
  { id: 14, src: "/images/gallery/loading-1.jpg", category: "jobs", alt: "Loading service" },
  { id: 15, src: "/images/gallery/cleanup-before.jpg", category: "jobs", alt: "Cleanup before" },
  { id: 16, src: "/images/gallery/cleanup-after.jpg", category: "jobs", alt: "Cleanup after" },
];

const categories = [
  { id: "all", label: "All" },
  { id: "dumpsters", label: "Dumpsters" },
  { id: "demo", label: "Demolition" },
  { id: "jobs", label: "Job Sites" },
];
---

<BaseLayout
  title="Gallery & About | Cigna Recycling & Waste"
  description="See our work across Long Island. Real dumpster rentals, demolition projects, and job site photos. Family-owned, serving Nassau & Suffolk County."
>
  <Header slot="header" />

  <!-- Hero Section -->
  <section class="bg-cigna-charcoal text-white py-16">
    <div class="container-custom">
      <h1 class="text-4xl md:text-5xl font-heading font-bold mb-4">
        Our <span class="text-cigna-yellow">Work</span>
      </h1>
      <p class="text-xl text-gray-300 max-w-2xl">
        Real photos from real jobs across Nassau and Suffolk County.
      </p>
    </div>
  </section>

  <!-- Gallery Section -->
  <section class="py-16 bg-white">
    <div class="container-custom">
      <!-- Filter Buttons -->
      <div class="flex flex-wrap gap-2 mb-8 justify-center">
        {categories.map((cat) => (
          <button
            data-filter={cat.id}
            class={`filter-btn px-6 py-2 rounded-full font-bold transition-colors ${
              cat.id === 'all'
                ? 'bg-cigna-red text-white'
                : 'bg-gray-200 text-gray-700 hover:bg-cigna-yellow hover:text-cigna-charcoal'
            }`}
          >
            {cat.label}
          </button>
        ))}
      </div>

      <!-- Gallery Grid -->
      <div id="gallery-grid" class="grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4">
        {galleryItems.map((item) => (
          <div
            data-category={item.category}
            class="gallery-item aspect-square rounded-lg overflow-hidden cursor-pointer relative group"
          >
            <img
              src={item.src}
              alt={item.alt}
              class="w-full h-full object-cover group-hover:scale-105 transition-transform duration-300"
              loading="lazy"
            />
            <!-- Overlay on hover -->
            <div class="absolute inset-0 bg-cigna-charcoal/30 opacity-0 group-hover:opacity-100 transition-opacity flex items-center justify-center">
              <svg xmlns="http://www.w3.org/2000/svg" class="h-8 w-8 text-white" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0zM10 7v3m0 0v3m0-3h3m-3 0H7" />
              </svg>
            </div>
          </div>
        ))}
      </div>
    </div>
  </section>

  <!-- About Section -->
  <section id="about" class="py-16 bg-gray-100">
    <div class="container-custom">
      <div class="grid lg:grid-cols-2 gap-12 items-center">
        <!-- Logo/Image -->
        <div class="flex justify-center">
          <img
            src="/images/logo/CignaLogo.png"
            alt="Cigna Recycling & Waste"
            class="max-w-md w-full"
          />
        </div>

        <!-- Content -->
        <div>
          <h2 class="text-3xl md:text-4xl font-heading text-cigna-charcoal mb-6">
            About <span class="text-cigna-red">Cigna</span>
          </h2>

          <div class="space-y-4 text-gray-600 text-lg">
            <p>
              <strong class="text-cigna-charcoal">Cigna Recycling & Waste</strong> is a family-owned business serving Nassau and Suffolk County. We specialize in dumpster rentals, demolition, and loading services for homeowners and contractors alike.
            </p>

            <p>
              We're not a national chain or a faceless corporation. When you call, you talk to someone who lives and works on Long Island — someone who understands the neighborhoods, the job sites, and what it takes to get things done right.
            </p>

            <p>
              Our approach is simple: show up when we say we will, provide the right equipment for the job, and make the whole process as easy as possible. No surprises, no runaround, just reliable service.
            </p>

            <p>
              Whether you're cleaning out a garage, renovating a kitchen, or managing a construction site, we're here to help. Give us a call and let's talk about your project.
            </p>
          </div>

          <div class="mt-8 flex flex-col sm:flex-row gap-4">
            <a href={phoneLink} class="btn-secondary">
              Call {phone}
            </a>
            <a href="/contact#quote-form" class="btn-outline border-cigna-red text-cigna-red hover:bg-cigna-red hover:text-white">
              Get a Quote
            </a>
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- Service Area -->
  <section class="py-16 bg-cigna-red text-white">
    <div class="container-custom text-center">
      <h2 class="text-3xl md:text-4xl font-heading mb-6">
        Proudly Serving <span class="text-cigna-yellow">Long Island</span>
      </h2>

      <div class="grid grid-cols-2 md:grid-cols-4 gap-4 max-w-4xl mx-auto mb-8">
        <div class="bg-white/10 rounded-lg p-4">
          <h3 class="font-bold text-lg">Nassau County</h3>
          <p class="text-red-100 text-sm">All towns & villages</p>
        </div>
        <div class="bg-white/10 rounded-lg p-4">
          <h3 class="font-bold text-lg">Suffolk County</h3>
          <p class="text-red-100 text-sm">All towns & villages</p>
        </div>
        <div class="bg-white/10 rounded-lg p-4">
          <h3 class="font-bold text-lg">Residential</h3>
          <p class="text-red-100 text-sm">Homeowners welcome</p>
        </div>
        <div class="bg-white/10 rounded-lg p-4">
          <h3 class="font-bold text-lg">Commercial</h3>
          <p class="text-red-100 text-sm">Contractors & businesses</p>
        </div>
      </div>

      <p class="text-red-100 max-w-2xl mx-auto">
        From the North Shore to the South Shore, from the Queens border to the Hamptons — if you're on Long Island, we've got you covered.
      </p>
    </div>
  </section>

  <Footer slot="footer" />
  <MobileStickyButtons slot="mobile-cta" />
</BaseLayout>

<script>
  // Gallery filter functionality
  const filterButtons = document.querySelectorAll('.filter-btn');
  const galleryItems = document.querySelectorAll('.gallery-item');

  filterButtons.forEach(button => {
    button.addEventListener('click', () => {
      const filter = button.getAttribute('data-filter');

      // Update active button styles
      filterButtons.forEach(btn => {
        btn.classList.remove('bg-cigna-red', 'text-white');
        btn.classList.add('bg-gray-200', 'text-gray-700');
      });
      button.classList.remove('bg-gray-200', 'text-gray-700');
      button.classList.add('bg-cigna-red', 'text-white');

      // Filter gallery items
      galleryItems.forEach(item => {
        const category = item.getAttribute('data-category');
        if (filter === 'all' || category === filter) {
          item.style.display = 'block';
        } else {
          item.style.display = 'none';
        }
      });
    });
  });
</script>
